<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>AngularJs 2</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding class="common">

  <h5> Data Models, Mocks, Refactoring </h5>
   <p>
    In this section we are going to learn about proper structuring of our code file
    For example our main.ts just contain the boostraping our application and loading our first component.
    <br /><br />
    Now we will split our code in three files: (earlier we were having it in just two files,   and we could have it in single file ie. main.ts)<br /><br />

    <b>main.ts</b>: Here we'll bootstrap our app & load the first component.<br />

    <b>app.component.ts</b>: Here we will put our page header. (the title. Remember?)<br />

    <b>bike-parts.component.ts</b>: Here we will put the list of bike parts.<br /><br />

    <b><u>Refactoring: Code Organization</u></b><br />
    <b>main.ts:</b> keep it same as earlier.<br /><br />

    <b>app..component.ts: </b><br />

    <b>
      <ion-card>
        <ion-card-content>
          import &#123; Component &#125; from
       &#39;&#64;angular&#47;core&#39;&#59;<br />
       <br />
       &#64;Component&#40;&#123;<br />
       <br />
       &#9;selector&#58; &#39;my&#45;app&#39;&#44;<br />
        &#9;template&#58; &#96;&#60;h&#49;&#62;Hey Welcome to &#58;
       title inside double curly braces &#60;&#47;h&#49;&#62;&#96;<br />
        &#125;&#41;<br />
        export class AppComponent &#123;<br />
           &#9;&#9;title &#61;
       &#34;Bike Rash&#34;&#59;<br />
         &#125;
        </ion-card-content>
     </ion-card>
   </b><br />

   Now the new file,<b>  bike-parts.component.ts</b>: <br />
   <b>
     <ion-card>
       <ion-card-content>
         import &#123; Component &#125; from &#34;&#64;angular&#47;core&#34;&#59;<br />
            <br />
            &#64;Component&#40;&#123;<br />
             &#9;selector&#58; &#39;bike&#45;parts&#39;&#44;<br />
               &#9;template&#58; &#96; &#60;ul&#62;&#46;&#46;&#46;&#60;&#47;ul&#62;
            &#96;<br />
             &#9;&#125;&#41;<br />
            <br />
              export class CarPartComponent&#123;<br />
            <br />
                 &#9;bikeParts
            &#61; &#91;&#123;&#46;&#46;&#46;&#93;&#59;<br />
            <br />
              &#9;totalBikeParts&#40;&#41; &#123;<br />
                &#9;&#46;&#46;&#46;<br />
                 &#9;return
            sum&#59;<br />
             &#9;&#125;<br />
              &#125;
       </ion-card-content>
    </ion-card>
  </b><br />

  Now it wont work, we have to do three things in app.component.ts to make it work.<br />

  <b>1st</b>- Import our new component.<br />
  <b>2nd</b>- Use our new selector. < bike-parts > <br />
  <b>3rd</b>- Tell our AppComponent to explicitly use the BikePartComponent. <br />

    So i have done it for you.<br /><br />

    New <b>app.component.ts</b> file is like: <br />

    <b>
      <ion-card>
        <ion-card-content>
          import &#123; Component &#125;
            from &#39;&#64;angular&#47;core&#39;&#59;<br />
                 import
            &#123; BikePartComponent&#125; from &#39;&#46;&#47;bike&#45;parts&#46;component&#39; &#91;&#42;&#42;&#49;&#93;<br />
              &#64;Component&#40;&#123;<br />
            &#9;selector&#58; &#39;my&#45;app&#39;&#44;<br />
                 &#9;template&#58;
            &#96;&#60;h&#49;&#62;Hey Welcome to &#58; title inside double curly braces &#60;&#47;h&#49;&#62;<br />
               &#9;&#9;&#9;&#9;&#60;bike&#45;parts&#62;&#60;&#47;bike&#45;parts&#62; &#91;&#42;&#42;&#50;&#93;&#96;&#44;<br />
            directives&#58; &#91;BikePartComponent&#93; &#91;&#42;&#42;&#51;&#93;<br />
            &#125;&#41;<br />
                export class
            AppComponent &#123;<br />
                 &#9;&#9;title
            &#61; &#34;Bike Rash&#34;&#59;<br />
             &#125;<br />
                 NOTICED&#63;
            The &#42;&#42;&#49;&#44; &#42;&#42;&#50; &#38; &#42;&#42;&#51;&#46;
        </ion-card-content>
     </ion-card>
   </b><br />

 Check your browser the app is again working fine ;). GOTCHA!!<br /><br />

 <b>Remembered ? A component is a type of dircetive & components are meant to be reused, ohh yeahh !! ;)</b><br /><br />

 <b>Summary:</b><br />

We created our first reuasable component & these are building blocks of our app.<br />
We learned to use directives metadata to list the directives our component uses.
<br /><br />

<ion-icon name="star"></ion-icon> And now as we have done with the summary of refactoring and think it's done haan!! but do you think it's good to have my html & inline css in my ts file ? Nooohhh not at all. Go get some caffeine.<br /><br />

Let's create two files <b>bike-parts.component.html & bike-parts.component.css.</b><br /><br />

All our html will go inside  <b>bike-parts.component.html</b> and as of now our page is looking ugly so lets write some css and that will go into  <b>bike-parts.component.css</b><br />

<br />now files code:<br /><br />

<b>bike-parts.component.html:</b><br />

<b>
  <ion-card>
    <ion-card-content>

    <button small (click)="view1()">L3: code#1</button>

    </ion-card-content>
 </ion-card>
</b><br /><br />

<b>bike-parts.component.css</b><br />

<b>
  <ion-card>
    <ion-card-content>
      &#46;description&#123;<br />
        font&#45;size&#58;&#49;&#52;px&#59;<br />
          color&#58;blue&#59;<br />
      &#125;<br />
      <br />
        &#46;price&#123;<br />
          font&#45;weight&#58;bold&#59;<br />
      &#125;
    </ion-card-content>
 </ion-card>
</b><br />


Now as we have take out these code form bike-parts.component.ts, so we have to tell about these files to <b>bike-parts.component.ts</b>, So.<br /><br />

<b>
  <ion-card>
    <ion-card-content>
      import &#123; Component &#125;
      from &#34;&#64;angular&#47;core&#34;&#59;<br />
      <br />
       &#64;Component&#40;&#123;<br />
      <br />
       &#9;selector&#58; &#39;bike&#45;parts&#39;&#44;<br />
        &#9;templateUrl&#58; &#39;app&#47;bike&#45;parts&#46;component&#46;html&#39;&#44;<br />
         &#9;styleUrls&#58;&#91;&#39;app&#47;bike&#45;parts&#46;component&#46;css&#39;&#93;<br />
         &#9;&#125;&#41;<br />
      <br />
         export class BikePartComponent&#123;<br />
     &#46;&#46;&#46;&#46;
    </ion-card-content>
 </ion-card>
</b><br /><br />

<b>Now our whole structure is like:</b><br />
<b>
  <ion-card>
    <ion-card-content>
    -root<br />
    	---index.html<br />
    	---app<br />
    		---- app.component.ts<br />
    		---- main.ts<br />
    		---- bike-part.component.ts<br />
    		---- bike-part.component.css<br />
    		---- bike-part.component.html<br />
    </ion-card-content>
 </ion-card>
</b><br />

I assume till now you have understood the relevance of each file that we have created, i suggest you to take a “peace break” and come again then recall all files flow. Because the next section is magically life changing by asking me to have a coffee with you :p
<br /><br />
Now we are moving further with same plan, we still have some boilerplating here, lets see how we gonna delegate our code to make it really standard.<br /><br />
<b><u>Mocks & Models: Data Models</u></b><br /><br />
lets create <b>bike-part.ts</b>, and write the class as like:<br />
<b>
  <ion-card>
    <ion-card-content>
      export class BikePart&#123;<br />
      &#9;id&#58; number&#59;<br />
      &#9;name&#58; string&#59;<br />
         &#9;description&#58;
      string&#59;<br />
         &#9;inStock&#58; number&#59;<br />
        &#9;price&#58;number&#59;<br />
      &#125;
    </ion-card-content>
 </ion-card>
</b><br />

Now for using this model in <b>bike-part.component.ts</b> first import this model as:<br />
<b>
  <ion-card>
    <ion-card-content>
      import &#123; BikePart &#125; from &#39;&#46;&#47;bike&#45;part&#39;
    </ion-card-content>
 </ion-card>
</b><br />

Now one more thing as we have static data and we have changed the model name as BikePart to tell typescript to treat this like and array of BikeParts. So,<br />

in <b>bike-part.component.ts:</b><br />

<b>
  <ion-card>
    <ion-card-content>

      bikeParts&#58; BikePart&#91;&#93; &#61; &#91;&#123;<br />
        &#9;&#9;&#34;id&#34;&#58;&#49;&#44;<br />
        &#9;&#9;&#34;name&#34;&#58; &#34;SuperTyres&#34;&#44;<br />
        &#9;&#9;&#34;description&#34;&#58;&#34;Very best rubber typres&#34;&#44;<br />
        &#9;&#9;&#34;inStock&#34;&#58; &#52;&#44;<br />
        &#9;&#9;&#34;price&#34;&#58; &#50;&#52;&#46;&#57;&#56;&#48;&#56;<br />
        &#9;&#125;&#44;<br />
        &#9;&#123;<br />
        &#9;&#9;&#34;id&#34;&#58;&#50;&#44;<br />
        &#9;&#9;&#46;&#46;&#46;

    </ion-card-content>
 </ion-card>
</b><br />
Now earlier i said currently we are using mock data but that usually comes from some sort of API service, so lets separate that data into mock.ts file:<br />

so <b>mock.ts</b><br />
<b>
  <ion-card>
    <ion-card-content>
      import &#123;BikePart&#125; from &#39;&#46;&#47;bike&#45;parts&#39;&#59;&#60;br &#47;&#62;<br />

      export const BIKEPART&#58; BikePart&#91;&#93;&#61;&#91;&#123;&#46;&#46;&#46;&#125;&#93;&#59;
    </ion-card-content>
 </ion-card>
</b><br />
   notice here we have used const instead of let, this is an ES2015 feature that makes sure BIKEPART can't be reassigned.
  <br /><br />
  <b>*Here ngOnInit()</b> is invoked after the component is constructed and its the best place to initiliaze the propery values.<br />

  <b>In bike-part.component.ts</b><br />

  <b>
    <ion-card>
      <ion-card-content>

        import &#123;BIKEPART&#125; from &#39;&#46;&#47;mock&#39;&#59;<br />
        &#9;&#46;&#46;&#46;<br />
        &#9;bikeParts&#58; BikePart&#91;&#93;&#59;<br />
        <br />
        &#9;ngOnInit&#40;&#41;&#123;<br />
        &#9;&#9;this&#46;bikeParts&#61; BIKEPART&#59;<br />
        &#9;&#125;<br />
        &#9;&#46;&#46;&#46;

      </ion-card-content>
   </ion-card>
  </b><br />

 Now here comes the <b> Summary of level 3:</b><br />

 1- In typescript we can use classes to model our data<br />
 2- It's a good practice to keep your mock data separate from component and model (class).

</p>
</ion-content>
